runtime: nodejs10
service: default
handlers:
  - url: /
    static_files: public/index.html
    upload: public/index.html
    secure: always
    expiration: 1s

  - url: /([^.]+)/
    static_files: public/\1/index.html
    upload: public/([^.]+)/index.html
    secure: always
    expiration: 10m

  - url: /([^.]+)
    static_files: public/\1/index.html
    upload: public/([^.]+)/index.html
    secure: always
    expiration: 10m

  - url: /([^.]+)/([^.]+)/
    static_files: public/\1/\2/index.html
    upload: public/([^.]+)/([^.]+)/index.html
    secure: always
    expiration: 10m

  - url: /([^.]+)/([^.]+)
    static_files: public/\1/\2/index.html
    upload: public/([^.]+)/([^.]+)/index.html
    secure: always
    expiration: 10m

  - url: /(.*)
    static_files: public/\1
    upload: public/(.*)
    secure: always
    expiration: 10m

  # Fallback URL
  - url: /
    expiration: 10m
    static_dir: public
    secure: always

default_expiration: 10m
